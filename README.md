# LB4_Radar

Этот проект представляет собой веб-приложение, разработанное на Flask, для получения и визуализации данных радара в реальном времени с использованием WebSocket. Отображение данных реализовано в виде полярного графика, созданного с помощью Plotly.js, где показаны позиции объектов и уровень мощности их сигналов.

---

### Основные компоненты системы:

- **Flask**  
  Используется для создания веб-сервера, который обрабатывает HTTP-запросы, предоставляет API для настройки параметров радара и отображает HTML-страницу с графиком.

- **WebSocket**  
  Обеспечивает непрерывное соединение между клиентом и сервером, позволяя передавать данные в реальном времени.

- **Plotly.js**  
  Библиотека для построения полярных графиков, которая визуализирует радиус (расстояние) и мощность сигналов.

---

### Структура HTML-страницы:

HTML-файл служит для отображения полярного графика с актуальными данными радара. В нём реализованы следующие элементы:

- **Plotly.js**  
  Обеспечивает построение и обновление графика на странице.

- **WebSocket**  
  Устанавливает соединение с сервером для получения новых данных от радара.

- **Интерактивная панель**  
  Позволяет изменять параметры радара, такие как количество измерений за оборот, скорость вращения, ширину луча и другие.

---

### Описание функционала:

#### Структура графика:
- Полярный график размещён в HTML-элементе с идентификатором `myDiv`.  
- Основные параметры графика: радиус (в километрах) и угловое положение объектов.  
- Цвет и размер маркеров зависят от уровня мощности сигнала:  
  - Красный — высокая мощность  
  - Оранжевый — средняя мощность  
  - Жёлтый — низкая мощность  
  - Синий — очень низкая мощность  

#### Подключение WebSocket:
- Устанавливается соединение с сервером по адресу `ws://localhost:4000`.  
- Обрабатываются входящие данные, включая `pulseDuration`, `scanAngle` и `echoResponses` (время и мощность сигнала).  
- Вычисление радиуса (расстояния) выполняется с помощью функции `calculateTheRadius()`, а обновление графика — через `updatePlot()`.

#### Панель управления параметрами радара:
- Позволяет изменять настройки радара:  
  - **Количество измерений за оборот**  
  - **Скорость вращения**  
  - **Ширина луча**  
  - **Число целей**  
  - **Скорость объектов**  
  - **Размер зоны моделирования**  
- После ввода параметров и нажатия кнопки "Отправить параметры" настройки отправляются на сервер через метод PUT для обновления конфигурации.

#### Обновление графика:
- **Функция `updatePlot()`**  
  - Обновляет полярный график на странице.  
  - Меняет цвет маркеров в зависимости от мощности сигнала.  
  - Отображает обновлённые данные.

---

### Итог:

Приложение запускается на локальном сервере Flask, а WebSocket обеспечивает непрерывный обмен данными. После запуска сервер доступен по адресам:  
- HTTP: `http://localhost:5000`  
- WebSocket: `ws://localhost:4000`.